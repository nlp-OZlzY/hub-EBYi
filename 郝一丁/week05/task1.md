# 客服工作台 FAQ 相似问答系统

## 1. 项目理解
可运营的 FAQ 知识库 + 在线语义检索服务。  
运营侧需要把知识按类目组织起来，并持续维护标准问法、相似问法、答案形态等内容。在线侧面对用户提问时，不走人工客服流程，而是把用户问句和历史问句做相似度匹配，命中后直接返回对应答案。为了保证上线稳定，FAQ 维护还需要有测试/正式双环境 + 发布中心的机制：测试环境编辑，发布后才影响正式环境。  

## 2. 后端开发和算法开发的职责
后端的核心交付不是做几个 CRUD，而是把知识库的生命周期、权限与可追溯性做完整：类目树维护、FAQ 的新建、删除、搜索、批量导入导出、以及测试、发布的状态流转。算法侧要把相似问答命中率做出来：将用户问句编码成向量，去向量库里检索最相近的标准问法，并结合生效时间、标签、视角等业务约束过滤后返回答案。文档里明确了相似问法可以维护与生效时间，这些都会直接影响线上检索策略。另外待选提问类似运营闭环，把线上未命中或低置信度的问题收集成候选池，供人工整理成新 FAQ 或补充相似问法。

### 2.1 需要设计数据库吗？
需要：  
- 类目表：支持 parent_id（树结构）、名称、统计数量。  
- FAQ 表：标准问法（标题）、答案、生效时间、状态、所属类目、以及环境/版本信息。  
- 相似问法表：FAQ_id + 相似问法文本（≤200），必要时还可存它的 embedding。  
- 发布记录表（推荐）：记录每次发布的差异、操作者、时间点，便于回滚/审计；因为测试环境的删除在未发布前不影响正式，发布后才同步。  

### 2.2 需要使用什么模型？
如果目标就是最相似问句→答案，优先选句向量语义检索：用Sentence-BERT这类结构把句子编码成可用余弦相似度比较的向量，适合做大规模相似检索。

### 2.3 如何使用 bert 的？
更工程化的做法是把 BERT 变成“编码器”：   
1) 离线：把每条 FAQ 的标准问法 + 相似问法编码成向量，写入向量库/索引。   
2) 在线：用户提问→编码成向量→TopK检索→按业务规则过滤→返回答案；生效时间超出范围要自动失效。     
3) 低置信度情况：如果相似度低于阈值，就提示改写、推荐关联问题、转人工等。   

### 2.4 是否需要使用大模型？
不必须。仅用 BERT/SBERT + 向量检索已经能实现相似问答命中→直接回复的流程，且成本可控、稳定性强。    
大模型更适合做增强功能，而不是替代检索：比如自动生成相似问法、把待选提问做聚类归并、对富文本答案做润色，或者在检索无命中时做 RAG 式兜底。但一旦引入大模型，就要额外处理幻觉、合规、延迟和成本。

## 3. 总结
这个项目一是后端的知识库治理，二是算法的语义检索链路。文档给出的相似问法上限、生效时间、答案类型、批量导入导出以及测试/正式发布机制，是数据库与服务边界的直接需求来源。
