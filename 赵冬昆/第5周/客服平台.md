（作业做完，记得在周五之前提交，有不懂的随时提问🙋‍♀️）



## 作业1：
想法：

	如果想存储用户之前对于业务的一些提问，以及我想把这些提问提取特征值来调用，为未来更多的提问做出AI回答，那么我应该用关系型数据库还是非关系型数据库，还是用哪种数据库来存储呢

	需要使用数据库来存储用户信息，客服工作台的框架，存储客户曾经提问过的所有问题。

（AI给出提示和总结）：

1.存储用户历史提问（文本 + 元信息）

2.提取特征值（如：意图类别、实体、关键词、嵌入向量等）

3.用于未来 AI 回答（检索增强生成 RAG / 用户画像 / 上下文记忆）

这本质上是一个 “对话历史 + 特征索引 + 向量检索” 的混合场景。

推荐的是组合：关系+非关系

| 数据类型 | 推荐数据库 | 说明 |
| --- | --- | --- |
| 用户ID、会话ID、时间戳、原始问题文本、意图标签、实体 | PostgreSQL | 使用 `JSONB`<br/> 字段存灵活特征；支持全文检索；可通过 `pgvector`<br/> 扩展做简单向量检索（初期够用） |
| 高维向量嵌入（768/1024维） + 快速相似搜索 | Chroma / Qdrant / Milvus | 专为 RAG 设计，支持百万级向量毫秒检索 |


模型用sentence-BERT类型的，因为可以理解语义

大模型我觉得是应该需要的，如果遇到了之前没有过的提问或者业务上的提问，大模型更好的补充了这些空白，然后把这些空白再记录下来



## 作业2:
在bert中，使用Cls进行标记对应的向量，所有的token用meanpooling，对输入序列所有token的最后一层隐藏状态求平均

入库时：用户提问 -> BERT 编码 -> 得到向量 -> 存入向量库/内存 + 元数据存入关系型数据库。



查询时：新提问 -> BERT 编码 -> 计算与历史库中所有向量的相似度 -> 找出 Top-K 相似的问题 -> 返回给用户或用于去重。

